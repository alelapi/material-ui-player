"use strict";(self.webpackChunkmaterial_ui_player=self.webpackChunkmaterial_ui_player||[]).push([[875],{"./src/stories/public/VideoCard.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,FirebaseStorage:()=>FirebaseStorage,__namedExportsOrder:()=>__namedExportsOrder,default:()=>VideoCard_stories});var react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),CardContent=__webpack_require__("./node_modules/.pnpm/@mui+material@7.0.2_@emotion+react@11.14.0_@types+react@18.2.79_react@18.2.0__@emotion+_189578b483de77d0ed9fd24c40f712ac/node_modules/@mui/material/esm/CardContent/CardContent.js"),clsx=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),composeClasses=__webpack_require__("./node_modules/.pnpm/@mui+utils@7.3.8_@types+react@18.2.79_react@18.2.0/node_modules/@mui/utils/esm/composeClasses/composeClasses.js"),styled=__webpack_require__("./node_modules/.pnpm/@mui+material@7.0.2_@emotion+react@11.14.0_@types+react@18.2.79_react@18.2.0__@emotion+_189578b483de77d0ed9fd24c40f712ac/node_modules/@mui/material/esm/styles/styled.js"),DefaultPropsProvider=__webpack_require__("./node_modules/.pnpm/@mui+material@7.0.2_@emotion+react@11.14.0_@types+react@18.2.79_react@18.2.0__@emotion+_189578b483de77d0ed9fd24c40f712ac/node_modules/@mui/material/esm/DefaultPropsProvider/DefaultPropsProvider.js"),generateUtilityClasses=__webpack_require__("./node_modules/.pnpm/@mui+utils@7.3.8_@types+react@18.2.79_react@18.2.0/node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js"),generateUtilityClass=__webpack_require__("./node_modules/.pnpm/@mui+utils@7.3.8_@types+react@18.2.79_react@18.2.0/node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js");function getCardActionsUtilityClass(slot){return(0,generateUtilityClass.ZP)("MuiCardActions",slot)}(0,generateUtilityClasses.Z)("MuiCardActions",["root","spacing"]);var jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const CardActionsRoot=(0,styled.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,!ownerState.disableSpacing&&styles.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),CardActions_CardActions=react.forwardRef(function CardActions(inProps,ref){const props=(0,DefaultPropsProvider.i)({props:inProps,name:"MuiCardActions"}),{disableSpacing=!1,className,...other}=props,ownerState={...props,disableSpacing},classes=(ownerState=>{const{classes,disableSpacing}=ownerState,slots={root:["root",!disableSpacing&&"spacing"]};return(0,composeClasses.Z)(slots,getCardActionsUtilityClass,classes)})(ownerState);return(0,jsx_runtime.jsx)(CardActionsRoot,{className:(0,clsx.Z)(classes.root,className),ownerState,ref,...other})});var Grid=__webpack_require__("./node_modules/.pnpm/@mui+material@7.0.2_@emotion+react@11.14.0_@types+react@18.2.79_react@18.2.0__@emotion+_189578b483de77d0ed9fd24c40f712ac/node_modules/@mui/material/esm/Grid/Grid.js"),Card=__webpack_require__("./node_modules/.pnpm/@mui+material@7.0.2_@emotion+react@11.14.0_@types+react@18.2.79_react@18.2.0__@emotion+_189578b483de77d0ed9fd24c40f712ac/node_modules/@mui/material/esm/Card/Card.js"),utils=__webpack_require__("./src/lib/utils.ts"),VolumeBar=__webpack_require__("./src/components/VolumeBar.tsx"),ControlKeys=__webpack_require__("./src/components/ControlKeys.tsx"),MediaTime=__webpack_require__("./src/components/MediaTime.tsx"),Progress=__webpack_require__("./src/components/Progress.tsx"),SpeedBar=__webpack_require__("./src/components/SpeedBar.tsx"),useTheme=__webpack_require__("./node_modules/.pnpm/@mui+material@7.0.2_@emotion+react@11.14.0_@types+react@18.2.79_react@18.2.0__@emotion+_189578b483de77d0ed9fd24c40f712ac/node_modules/@mui/material/esm/styles/useTheme.js"),hooks=__webpack_require__("./src/hooks/index.ts");const StyledCard=(0,styled.ZP)(Card.Z,{shouldForwardProp:prop=>"background"!==prop})(({background})=>({display:"flex",flexDirection:"column",backgroundColor:background||"inherit"})),StyledCardContent=(0,styled.ZP)(CardContent.Z)({display:"flex",justifyContent:"center"}),VideoContainer=(0,styled.ZP)("div")(({theme})=>({backgroundColor:theme.palette.common.black,display:"inline-block"})),StyledVideo=(0,styled.ZP)("video",{shouldForwardProp:prop=>"videoWidth"!==prop&&"videoHeight"!==prop})(({videoWidth,videoHeight})=>({width:videoWidth,height:videoHeight})),StyledCardActions=(0,styled.ZP)(CardActions_CardActions)(({theme})=>({display:"flex",flexDirection:"column",alignItems:"center","&:last-child":{paddingBottom:theme.spacing(1)}})),ControlsGrid=(0,styled.ZP)(Grid.Z)(({theme})=>({display:"flex",flexDirection:"row",alignItems:"center",[theme.breakpoints.down("md")]:{justifyContent:"space-between",flexGrow:1},[theme.breakpoints.up("md")]:{justifyContent:"start"}})),BarsGrid=(0,styled.ZP)(Grid.Z)(({theme})=>({display:"flex",flexDirection:"row",alignItems:"center",[theme.breakpoints.down("md")]:{justifyContent:"space-between",flexGrow:1},[theme.breakpoints.up("md")]:{justifyContent:"start"}})),VideoCard=props=>{const{color="primary",thickness="medium"}=props,player=(0,react.useRef)(null),{state,pause,setSize,load,play,stop,setCurrentTime,setProgress}=(0,hooks.G)((props=>({url:"",key:Math.random(),playing:!1,time:{currentTime:0,duration:0},fade:1,width:props.width,height:9*(props.width||0)/16,playerTimeout:null,src:props.src}))(props),props.fadeSettings),theme=(0,useTheme.Z)(),{onEnded=()=>setCurrentTime(player.current,0),onBackwardClick=()=>{},onForwardClick=()=>{},loop=!!props.loop,autoplay=!!props.autoplay}=props,onPlay=(0,react.useCallback)(async()=>{if(!player.current.src){const videoUrl=await(0,utils.Gr)(props.src);load(player.current,videoUrl),player.current.onloadedmetadata=()=>setSize(player.current)}await play(player.current)},[props.src,load,play,setSize]);return(0,react.useEffect)(()=>{player.current.autoplay=autoplay,player.current.loop=loop,player.current.onended=()=>{pause(player.current),onEnded()}},[pause,onEnded,autoplay,loop]),(0,react.useEffect)(()=>{autoplay&&onPlay()},[autoplay,onPlay]),(0,jsx_runtime.jsxs)(StyledCard,{background:props.background,children:[(0,jsx_runtime.jsx)(StyledCardContent,{children:(0,jsx_runtime.jsx)(VideoContainer,{children:(0,jsx_runtime.jsx)(StyledVideo,{style:{opacity:state.fade},ref:player,videoWidth:state.width,videoHeight:state.height,children:state.url&&(0,jsx_runtime.jsx)("source",{type:(0,utils.bh)(state.url),src:state.url})},state.key)})}),(0,jsx_runtime.jsx)(StyledCardActions,{sx:{paddingTop:theme.spacing(1),paddingRight:theme.spacing(2),paddingLeft:`calc(${utils.Up[thickness]/2}px + ${theme.spacing(2)})`,paddingBottom:theme.spacing(1)},children:(0,jsx_runtime.jsxs)(Grid.Z,{container:!0,justifyContent:"center",alignItems:"center",sx:{width:"100%"},children:[(0,jsx_runtime.jsx)(Grid.Z,{size:12,children:(0,jsx_runtime.jsx)(Progress.Z,{time:state.time,color,thickness,onProgressClick:async v=>await setProgress(player.current,v)})}),(0,jsx_runtime.jsxs)(ControlsGrid,{size:{xs:12,md:6},children:[(0,jsx_runtime.jsx)(MediaTime.Z,{time:state.time,TimeProps:props.TimeProps}),(0,jsx_runtime.jsx)(ControlKeys.Z,{onPauseClick:()=>pause(player.current),onPlayClick:onPlay,backward:props.backward,forward:props.forward,playing:state.playing,onForwardClick,onBackwardClick,onStopClick:()=>stop(player.current),color,BackwardProps:props.BackwardProps,StopProps:props.StopProps,PauseProps:props.PauseProps,PlayProps:props.PlayProps,ForwardProps:props.ForwardProps})]}),(0,jsx_runtime.jsxs)(BarsGrid,{size:{xs:12,md:6},children:[props.speed&&(0,jsx_runtime.jsx)(SpeedBar.Z,{player:player.current,color,thickness}),(0,jsx_runtime.jsx)(VolumeBar.Z,{player:player.current,color,thickness,MuteProps:props.MuteProps})]})]})})]})};VideoCard.displayName="VideoCard";const components_VideoCard=VideoCard;var ThemeProvider=__webpack_require__("./node_modules/.pnpm/@mui+material@7.0.2_@emotion+react@11.14.0_@types+react@18.2.79_react@18.2.0__@emotion+_189578b483de77d0ed9fd24c40f712ac/node_modules/@mui/material/esm/styles/ThemeProvider.js"),createTheme=__webpack_require__("./node_modules/.pnpm/@mui+material@7.0.2_@emotion+react@11.14.0_@types+react@18.2.79_react@18.2.0__@emotion+_189578b483de77d0ed9fd24c40f712ac/node_modules/@mui/material/esm/styles/createTheme.js");const VideoCard_stories={title:"Components/VideoCard",component:components_VideoCard,decorators:[Story=>(0,jsx_runtime.jsx)(ThemeProvider.Z,{theme:(0,createTheme.Z)(),children:(0,jsx_runtime.jsx)(Story,{})})],argTypes:{color:{defaultValue:"primary",control:{type:"radio"},options:["primary","secondary"]},thickness:{defaultValue:"medium",control:{type:"radio"},options:["thin","medium","large"]},onForwardClick:{action:"forward"},onBackwardClick:{action:"backward"},onEnded:{action:"end"},forward:{defaultValue:!0,control:{type:"radio"},options:[!0,!1,void 0]},backward:{defaultValue:!0,control:{type:"radio"},options:[!0,!1,void 0]},mute:{defaultValue:!0,control:{type:"radio"},options:[!0,!1,void 0]},speed:{defaultValue:!0,control:{type:"radio"},options:[!0,!1,void 0]},loop:{defaultValue:!1,control:{type:"radio"},options:[!0,!1,void 0]}}},Template=args=>(0,jsx_runtime.jsx)(components_VideoCard,{...args});Template.displayName="Template";const Default=Template.bind({});Default.args={src:"https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4",width:500};const FirebaseStorage=Template.bind({});FirebaseStorage.args={src:new Promise(resolve=>{setTimeout(()=>{resolve("https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4")},500)}),width:500},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <VideoCard {...args} />",...Default.parameters?.docs?.source}}},FirebaseStorage.parameters={...FirebaseStorage.parameters,docs:{...FirebaseStorage.parameters?.docs,source:{originalSource:"args => <VideoCard {...args} />",...FirebaseStorage.parameters?.docs?.source}}};const __namedExportsOrder=["Default","FirebaseStorage"]}}]);